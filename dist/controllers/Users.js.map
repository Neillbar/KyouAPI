{"version":3,"sources":["../../src/controllers/Users.js"],"names":["mongoose","require","Router","newUser","md5","module","exports","config","db","api","post","req","res","password","body","newuser","name","phoneNumber","language","idNumber","email","findUser","find","console","log","status","send","save","savedUser"],"mappings":";;;;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;;eACeA,QAAQ,SAAR,C;IAAVC,M,YAAAA,M;;AACL,IAAIC,UAAUF,QAAQ,wBAAR,CAAd;AACA,IAAIG,MAAMH,QAAQ,KAAR,CAAV;;AAMAI,OAAOC,OAAP,GAAiB,gBAAiB;AAAA,MAAfC,MAAe,QAAfA,MAAe;AAAA,MAARC,EAAQ,QAARA,EAAQ;;;AAElC,MAAIC,MAAMP,QAAV;;AAEAO,MAAIC,IAAJ,CAAS,WAAT;AAAA,wEAAqB,iBAAOC,GAAP,EAAWC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AACjBC,sBADiB,GACNT,IAAIO,IAAIG,IAAJ,CAASD,QAAb,CADM;AAGjBE,qBAHiB,GAGP,IAAIZ,OAAJ,EAHO;;AAIrBY,sBAAQC,IAAR,GAAeL,IAAIG,IAAJ,CAASE,IAAxB;AACAD,sBAAQE,WAAR,GAAsBN,IAAIG,IAAJ,CAASG,WAA/B;AACAF,sBAAQG,QAAR,GAAmBP,IAAIG,IAAJ,CAASI,QAA5B;AACAH,sBAAQI,QAAR,GAAmBR,IAAIG,IAAJ,CAASK,QAA5B;AACAJ,sBAAQK,KAAR,GAAgBT,IAAIG,IAAJ,CAASM,KAAzB;AACAL,sBAAQF,QAAR,GAAmBA,QAAnB;;AAIIQ,sBAbiB,GAaNlB,QAAQmB,IAAR,CAAa,EAACH,UAASR,IAAIG,IAAJ,CAASK,QAAnB,EAAb,CAbM;;AAcrBI,sBAAQC,GAAR,CAAYH,QAAZ;;AAdqB,mBAelBA,QAfkB;AAAA;AAAA;AAAA;;AAAA,+CAgBdT,IAAIa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,qBAArB,CAhBc;;AAAA;AAAA;AAAA,qBAsBCX,QAAQY,IAAR,EAtBD;;AAAA;AAsBjBC,uBAtBiB;;;AAwBrBhB,kBAAIc,IAAJ,CAASE,SAAT;;AAxBqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAArB;;AAAA;AAAA;AAAA;AAAA;;AAoCA,SAAOnB,GAAP;AAUC,CAlDD,C,CAkDC","file":"Users.js","sourcesContent":["var mongoose = require('mongoose');\nvar {Router} = require('express');\nvar newUser = require('../Schemas/UsersSchema');\nvar md5 = require('md5');\n\n\n\n\n\nmodule.exports = ({config,db}) => {\n\nlet api = Router();\n\napi.post('/register',async (req,res) => {\nlet password = md5(req.body.password);\n\nlet newuser = new newUser();\nnewuser.name = req.body.name;\nnewuser.phoneNumber = req.body.phoneNumber;\nnewuser.language = req.body.language;\nnewuser.idNumber = req.body.idNumber;\nnewuser.email = req.body.email;\nnewuser.password = password;\n\n\n\nlet findUser = newUser.find({idNumber:req.body.idNumber});\nconsole.log(findUser);\nif(findUser){\nreturn res.status(400).send(\"user already exists\");\n\n}\n\n\n\nlet savedUser = await newuser.save();\n\nres.send(savedUser);\n\n\n\n\n})\n\n\n\n\n\n\nreturn api;\n\n\n\n\n\n\n\n\n\n}//exporting"]}